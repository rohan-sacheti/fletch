(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"12GJ":function(e,t,a){"use strict";var n=a("mj2O"),i=a.n(n),r=a("7SM1"),c=a("nJ3u"),o=a("jKoD"),s=a("Ztgx"),l=a("NJA7"),m=a("lE29"),u=a("Vk0e"),d=a("qixE"),g=a("SFoa"),f=a("qwiD"),b=a("LVcX"),p=a("ERkP"),A=a.n(p),v=a("uDfI"),j=a("SWQ0"),O=a("gG69"),E=a("0lfv"),h=a("Nlet"),y=a("wNJw"),k=a("4c+F"),w=(a("sZBt"),function DeclinedConsent(e){var t=e.consentMessage,a=e.canRetryConsent,n=e.onRetryConsentClicked,i=void 0===n?function(){}:n,r=e.copyStyle,c=void 0===r?{}:r;return A.a.createElement("div",{className:"drift-widget-greeting-content"},A.a.createElement("p",{className:"drift-widget-gdpr-consent--copy",style:c},t),a&&A.a.createElement("div",{className:"drift-widget-reset-consent"},A.a.createElement(l.a,{tabIndex:0,className:"drift-gdpr-action--reset-consent-button",onClick:i},A.a.createElement("span",{className:"drift-gdpr-action--text"},"Reset"))))}),M=function InquireConsent(e){var t=e.message,a=e.onConsentButtonClicked,n=e.yesConsentLabel,i=e.noConsentLabel,r=e.copyStyle,c=void 0===r?{}:r;return A.a.createElement(A.a.Fragment,null,A.a.createElement("div",{className:"drift-widget-greeting-content"},A.a.createElement("p",{className:"drift-widget-gdpr-consent--copy",style:c},t)),A.a.createElement("div",{className:"drift-gdpr-actions"},A.a.createElement(l.a,{tabIndex:0,className:"drift-gdpr-action--allow-consent",onClick:a(!0)},A.a.createElement("span",{className:"drift-gdpr-action--text"},n)),A.a.createElement(l.a,{tabIndex:0,className:"drift-gdpr-action--deny-consent",onClick:a(!1)},A.a.createElement("span",{className:"drift-gdpr-action--text"},i))))};t.a=function GDPR(e){var t=e.previewRef,a=e.resetChatHeight,n=e.canRetryConsent,l=Object(v.b)(),N=Object(v.c)(function(e){return e.embed.configuration.dataProtection}),C=N.policies,S=N.default,T=Object(v.c)(function(e){return e.embed.configuration}).team,_=void 0===T?[]:T,I=Object(v.c)(function(e){return e.session}),P=I.endUser,z=I.gdpr,R=(void 0===z?{}:z).declinedConsent;Object(p.useLayoutEffect)(function(){R&&a()},[R,a]),Object(p.useEffect)(function(){Object(y.a)(j.b.GDPR_REQUESTED)},[]);var L=Object(h.c)().locale,x=Object(g.h)()?Object(g.e)():L,D=Object(m.a)(),B=D.activeColor,G=D.gdprCopyTheme,F=Object(p.useMemo)(function(){return _.find(function(e){return e.bot})||{}},[_]),H=Object(p.useMemo)(function(){var e=Object(b.a)(null,[x],C);if(e)return e;var t=Object(b.a)(null,["".concat(S)],C);return t||(Object(E.n)({data:["No locale matched and unable to find default policy: ".concat(t)]}),null)},[x,C,S]);if(Object(u.a)(O.c.GDPR),!H)return null;return A.a.createElement("div",{className:"drift-widget-gdpr-consent drift-widget-greeting"},A.a.createElement("style",null,"\n          .drift-widget-gdpr-consent .drift-widget-reset-consent button:focus,\n          .drift-widget-gdpr-consent .drift-gdpr-actions button:focus {\n            ".concat(Object(c.c)(B),"\n          }\n        ")),A.a.createElement(s.a,{messageText:"Data Privacy Bot",senderIds:[F.id],textStyles:G}),A.a.createElement("div",{ref:t,className:"drift-widget-gdpr-body"},!R&&A.a.createElement(M,{message:H.message,onConsentButtonClicked:function doRecordConsent(e){return Object(r.a)(i.a.mark(function _callee(){return i.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Object(y.a)(j.b.GDPR_CLICKED,{accepted:e,endUser:P.id}),!e){t.next=5;break}return t.next=5,Object(o.a)(P.id,H.message);case 5:l(Object(f.p)({hasConsent:e})),e||(l(Object(f.c)(!0)),Object(k.c)("GDPR Declined",{endUserId:P.id}),Object(d.b)()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.warn(t.t0);case 12:case"end":return t.stop()}},_callee,null,[[0,9]])}))},yesConsentLabel:H.giveConsentLabel,noConsentLabel:H.declineConsentLabel,copyStyle:G}),R&&A.a.createElement(w,{consentMessage:H.consentDeclinedMessage,canRetryConsent:n,onRetryConsentClicked:function resetConsentDecline(){l(Object(f.c)(!1))},copyStyle:G})))}},"2VrW":function(e,t,a){},"8eKL":function(e,t,a){"use strict";var n=a("mj2O"),i=a.n(n),r=a("7SM1"),c=a("s8DI"),o=a("O94r"),s=a.n(o),l=a("HXmn"),m=a("tGI+"),u=a("WwEg"),d=a("nfbA"),g=a("dZmz"),f=a("wW9O"),b=a("nQD+"),p=a("+Kbs"),A=a("ERkP"),v=a.n(A),j=a("Tr4L"),O=a("A5mO"),E=a("0lfv"),h=function MessageFooter(e){var t=e.message,a=e.isLastGroup,n=e.isLastMessage,i=e.delivered,r=e.generated,o=e.messageTimedOut,m=e.deliveryFailed,u=e.resolveMessageHeight,d=Object(j.a)().t,g=Object(A.useState)(!1),f=Object(c.a)(g,2),b=f[0],h=f[1];return Object(A.useEffect)(function(){return(o||i)&&Object(E.e)(function(){return h(!1)},500),i||b||h(!0),function(){return h(!1)}},[i,o,b]),Object(A.useLayoutEffect)(function(){u()},[u,i,b,a,n,m]),!i||b?v.a.createElement("li",{key:"".concat(r,"-message-status"),className:s()("drift-widget-message drift-widget-message--meta-date drift-no-op",{"drift-widget-message-failed-status":m})},v.a.createElement("span",{className:"drift-widget-message--meta-status"},!b&&m?d("status.sendMessageFailed"):v.a.createElement(l.a,{size:"small",className:"drift-widget-message--meta-status__sending"}))):a||i?n&&a?v.a.createElement("li",{key:"".concat(t.createdAt,"-message-status"),className:"drift-widget-message--meta-date drift-widget-message"},v.a.createElement("div",{className:"drift-widget-message--meta-status"},v.a.createElement(p.i,{className:"drift-widget-message-sent",height:10,width:12}),v.a.createElement("span",{className:"drift-widget-message--meta-date-stamp"},Object(O.a)(i).unixFmt(d("dt.format.time.short"))))):null:v.a.createElement("li",{key:"".concat(r,"-message-status"),className:"drift-widget-message drift-widget-message--meta-date drift-no-op"})},y=a("QtlZ"),k=a("lE29"),w=a("K7i0"),M=a("da4L"),N=a("g6eD"),C=a("LVcX"),S=a("uDfI"),T=a("PjZB"),_=a("EQxi"),I=a("58kB"),P=a("4bA0"),z=a.n(P),R=a("oPI6"),L=a("y0on"),x=function HtmlMessage(e){var t=e.body,a=e.attributes,n=e.isLastMessage,i=e.authorId,r=e.isLastGroup,c=e.style,o=void 0===c?{}:c,l=e.resolveMessageHeight,m=void 0===l?function(){}:l,u=e.className,g=e.viewerRecipientStatus,f=e.authorType;Object(A.useLayoutEffect)(function(){m()},[m,t]);var b=Object(I.a)(i),p=Object(A.useMemo)(function(){return{parsedBody:z()(t,{replace:function replace(e){if("img"===e.name){var t=Object(d.a)(Object(d.a)({},Object(P.attributesToProps)(e.attribs)),{},{onLoad:m});return v.a.createElement("img",t)}if("text"===e.type){if(e.parentNode&&"a"!==e.parentNode.name){var a=Object(_.e)(e.data);return v.a.createElement(v.a.Fragment,null,z()(a))}}else if("a"===e.name){var n={href:e.attribs.href,target:"_blank",rel:"noopener noreferrer"};return v.a.createElement("a",n,Object(P.domToReact)(e.children))}}})}},[t,m]).parsedBody,j=n&&r&&f===T.b.USER&&g!==T.f.READ,O=j?Object(L.a)(b.recipient.name,a&&""!==a.preview?a.preview:t):null;return v.a.createElement("div",{className:s()("drift-widget-message--box drift-widget-message--HTML",u),style:o},j&&v.a.createElement(R.b,{message:O,"aria-live":"polite",clearOnUnmount:!0}),v.a.createElement("div",null,p))},D=function(e){return Object(M.g)(e.body)?null:v.a.createElement(x,e)},B=(a("Wkzb"),function BotMessage(e){return v.a.createElement(D,Object.assign({},e,{className:"drift-widget-message--bot"}))}),G=a("pYxh"),F=a("rmQ0"),H=a("Mur8"),U=a("i9gz"),K=(a("BZgG"),function ConversationRatingMessage(e){var t=(e.attributes||{}).conversationRating,a=(t=void 0===t?{}:t).ratingPrompt,n=(a=void 0===a?{}:a).ratingAcknowledgement,i=void 0===n?null:n,r=a.ratingPromptMessage,c=void 0===r?null:r,o=t.ratingText,l=void 0===o?null:o,m=t.ratingValue,u=void 0===m?null:m,d=l&&!Object(U.a)(l);return v.a.createElement(G.a,{className:"drift-widget-conversation-rating"},v.a.createElement(F.a,null,c),v.a.createElement("div",{className:"drift-widget-conversation-rating--rating"},v.a.createElement("div",{className:s()("drift-widget-conversation-rating--value",{"drift-widget-conversation-rating--value--with-text":d})},function getEmojiFromRatingValue(e){var t=H.a.find(function(t){return t.value===e});return t?t.emoji:null}(u)),l&&!Object(U.a)(l)&&v.a.createElement("div",{className:"drift-widget-conversation-rating--text"},l)),v.a.createElement("div",{className:"drift-widget-conversation-rating--footer"},i))}),V=a("NJA7"),J=a("yT62"),Z=a("nvPd"),q=a("qixE"),Q=a("qwiD"),W=a("NFvl"),Y=a("6lNa"),X=(a("n/d+"),function SuccessCapture(){var e=Object(j.a)().t;return v.a.createElement("div",{className:"drift-widget-offline-email-input-wrapper drift-widget-email-success"},v.a.createElement(J.a,null),v.a.createElement("p",{className:"drift-widget-success-message"},e("automessage.emailCapturedSuccess")))}),$=function EmailCaptureMessage(e){var t=Object(j.a)().t,a=Object(S.b)(),n=Object(Z.a)(""),c=Object(S.c)(function(e){return e.session}).endUser,o=!!c.email&&!Object(U.a)(c.email),s=Object(S.c)(function(e){return e.conversations}).activeConversation,l=Object(S.c)(function(e){return Object(W.a)(["embed","configuration","theme","emailCaptureMessage"],e)}),m=Object(A.useMemo)(function(){return l&&!Object(U.a)(l)?l:t("automessage.emailCaptureMessage")},[l,t]),u=function(){var e=Object(r.a)(i.a.mark(function _callee(e){return i.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a(Object(Q.d)({email:n.value})),Object(q.a)(Y.b.LEAD_CAPTURED,{email:n.value,conversationId:s});case 3:case"end":return t.stop()}},_callee)}));return function submitEmail(t){return e.apply(this,arguments)}}(),d=t("form.label.emailAddress");return v.a.createElement(v.a.Fragment,null,v.a.createElement(D,Object.assign({},e,{body:m})),o?v.a.createElement(X,null):v.a.createElement("form",{className:"drift-widget-offline-email-capture",onSubmit:u},v.a.createElement("label",{htmlFor:"drift-widget-offline-email-capture-input",className:"drift-widget-offline-email-capture-label"},v.a.createElement("span",null,d,":"),v.a.createElement("fieldset",null,v.a.createElement("div",{className:"drift-widget-offline-email-capture-input-container"},v.a.createElement("input",Object.assign({id:"drift-widget-offline-email-capture-input",type:"email",placeholder:d},n,{required:!0}))),v.a.createElement(V.a,{className:"drift-widget-offline-email-button",invertColors:!0,type:"submit"},t("form.label.submit"))))))},ee=a("FJN1"),te=a("fJpD"),ae=a("Hvhg"),ne=a("NCI6"),ie=a("pgTp"),re=a("jm9a"),ce=(a("Q0X4"),function LoadingDots(e){var t=e.size,a=void 0===t?null:t;return v.a.createElement("div",{className:s()("widget-loading-dots",Object(re.a)({},"widget-loading-dots--".concat(a),!!a))},v.a.createElement("span",{className:"widget-loading-dot widget-loading-dot-delay-1"},"."),v.a.createElement("span",{className:"widget-loading-dot widget-loading-dot-delay-2"},"."),v.a.createElement("span",{className:"widget-loading-dot widget-loading-dot-delay-3"},"."))}),oe=a("nedb"),se=a("fw6E"),le=a("fJrp"),me=a("SsZN"),ue=a("+oIK"),de=a("Gxm1"),ge=a("+f1A"),fe=a("7oto"),be=a("4c+F"),pe=function translateErrorMessage(e){if(!e||!e.message)return"meeting.scheduleAMeetingError";switch(e.message){case"The requested slot cannot be in the past":return"meeting.scheduleAMeetingTimePassedError";case"The requested slot does not fall within agent-configured availability":case"The requested slot does not respect the agent-configured minimum notice time":case"The requested slot--padded by buffer time on both sides--conflicts with an existing event":case"The requested slot--padded by buffer time on both sides--conflicts with an existing point-in-time event":return"meeting.scheduleAMeetingAlreadyBookedError";default:return"meeting.scheduleAMeetingError"}},Ae=function getTimeZoneGroupI18nKey(e){return"tz.group.".concat(e)},ve=function getTimeZoneI18nKey(e){return"tz.".concat(e)},je=function createMeetingSlot(e,t,a){return{date:e.unixFmt(a),slots:[t]}},Oe=function makeSlotDate(e,t){var a;try{a=Object(O.a)(e,t.value)}catch(n){Object(E.n)({data:["Unable to translate non-IANA timezone",n,t.value]}),a=Object(O.a)(e,"America/New_York")}return a},Ee=function padZeros(e){return e<10?"0"+e:e},he=a("nJ3u"),ye=a("z24s"),ke=a("f/zS"),we=function CompanyMeetingRecipients(e){var t=e.avatarSize,a=void 0===t?"SMALL":t,n=e.companyLogo,i=e.companyName;return v.a.createElement("div",{className:"drift-meeting-recipients"},v.a.createElement("div",{className:"drift-meeting-scheduler--avatar"},v.a.createElement(ke.a,{size:a,image:n})),v.a.createElement("p",{className:"drift-meeting-recipient-name"},i))},Me=a("noex"),Ne=a("ey6Y"),Ce=function MeetingRecipients(e){var t=e.avatarSize,a=void 0===t?"SMALL":t,n=e.additionalRecipientIds,i=void 0===n?[]:n,r=e.primaryRecipientId,c=void 0===r?null:r,o=Object(Ne.a)(c,i);return v.a.createElement("div",{className:"drift-meeting-recipients"},v.a.createElement("div",{className:"drift-meeting-scheduler--avatar"},[c].concat(Object(u.a)(i)).map(function(e,t){return v.a.createElement(Me.a,{size:a,id:e,key:"agent-avatar-".concat(t)})})),v.a.createElement("p",{className:"drift-meeting-recipient-name"},o))},Se=function MeetingConfirmation(e){var t=e.meetingStart,a=e.meetingAgentId,n=e.additionalAgents,i=e.timezone,r=e.onBackClicked,c=e.onConfirmClicked,o=e.isBookingPending,l=e.resolveMessageHeight,m=e.isCompanyMeeting,u=e.companyLogo,d=e.companyName,g=e.meetingEnd,f=void 0===g?null:g,O=e.isConfirmed,E=void 0!==O&&O,h=e.disabled,y=void 0!==h&&h,w=Object(j.a)().t,M=t.goto(i).unixFmt(w("dt.format.date.long")),N=t.goto(i).unixFmt(w("dt.format.time.short")),C=f&&f.goto(i).unixFmt(w("dt.format.time.short")),S=w(ve(i)),T=Object(A.useRef)(null),_=Object(ye.a)(T);return Object(A.useEffect)(l,[o,E]),v.a.createElement("div",{className:"drift-meeting-card-body"},v.a.createElement("style",null,"\n          .drift-meeting-back-button.keyboard-focused {\n            ".concat(Object(he.c)(Object(k.a)().activeColor),"\n          }\n        ")),!E&&v.a.createElement(b.a,{className:s()("drift-meeting-back-button",{"keyboard-focused":_}),onClick:r,"aria-label":"back",disabled:y,ref:T},v.a.createElement(p.b,null)),m?v.a.createElement(we,{companyLogo:u,avatarSize:"LARGE",companyName:d}):v.a.createElement(Ce,{additionalRecipientIds:n,avatarSize:"LARGE",primaryRecipientId:a}),v.a.createElement("div",{className:"drift-meeting-confirmation"},v.a.createElement("span",{className:"drift-meeting-confirmation--time"},N," ",C&&"- ".concat(C)),v.a.createElement("span",{className:"drift-meeting-confirmation--date"},M),v.a.createElement("span",{className:"drift-meeting-confirmation--timezone"},S)),!E&&v.a.createElement(V.a,{className:"drift-meeting-confirmation__confirm",onClick:c,invertColors:!0,invertOnHover:!0,disabled:y},w("meeting.schedule")))},Te=a("jITz"),_e=a("o3t1"),Ie=a("hm8b"),Pe=function TimezoneChangeButton(e){var t=e.onClick,a=e.timezoneName,n=e.disabled,i=void 0!==n&&n,r=Object(k.a)().primaryTextColor,c=Object(A.useRef)(null),o=Object(ye.a)(c);return v.a.createElement(b.a,{className:s()("drift-meeting-change-timezone",{"keyboard-focused":o}),onClick:t,style:r,"aria-label":"".concat(a," - Activate to change time zone"),disabled:i,ref:c},"(",a,")")},ze=(a("fmuz"),function MeetingSlotListItem(e){var t=e.meetingSlot,a=e.onItemClicked,n=e.disabled,i=Object(_e.a)(),r=i.hoverProps,c=i.isHovered,o=Object(k.a)(),l=o.borderStyles,m=o.primaryTextColor,u=Object(A.useRef)(null),g=Object(ye.a)(u);return v.a.createElement("li",Object.assign({className:s()("drift-meeting-day-picker--list-item",{"keyboard-focused":g})},r,{style:c?Object(d.a)({},l):{}}),v.a.createElement(b.a,{onClick:a,disabled:n,ref:u},v.a.createElement("span",{style:c?Object(d.a)({},m):{}},t.date)))}),Re=function MeetingDayPicker(e){var t=e.timezone,a=e.meetingInfo,n=e.meetingAgent,i=e.meetingSlotSets,r=e.onMeetingDateChosen,o=e.onTimezoneLinkClick,l=e.resolveMessageHeight,m=e.isCompanyMeeting,u=e.companyLogo,d=e.companyName,g=e.disabled,f=void 0!==g&&g,p=e.isChatTakeover,O=void 0!==p&&p,E=Object(j.a)().t,h=Object(A.useState)(0),y=Object(c.a)(h,2),w=y[0],M=y[1],N=Object(A.useRef)(null),C=Object(A.useRef)(null),S=Object(ye.a)(N),T=Object(ye.a)(C),_=Object(A.useCallback)(function(){w!==i.length&&M(w+1)},[w,i]),I=Object(A.useCallback)(function(){w>0&&M(w-1)},[w]),P=Object(Te.a)({targetKey:"ArrowRight"}),z=Object(Te.a)({targetKey:"ArrowLeft"}),R=Object(k.a)(),L=R.activeColor,x=R.primaryTextColor;return Object(A.useEffect)(function(){P&&_(),z&&I()},[P,z,I,_]),Object(A.useEffect)(l,[i]),Object(Ie.a)(i)?null:v.a.createElement("div",{className:"drift-meeting-day-picker"},v.a.createElement("style",null,"\n          .drift-meeting-change-timezone.keyboard-focused,\n          .drift-meeting-day-picker--list-item.keyboard-focused,\n          .drift-meeting-day-picker--slot-next.keyboard-focused,\n          .drift-meeting-day-picker--slot-prev.keyboard-focused {\n            ".concat(Object(he.c)(L),"\n          }\n        ")),!O&&(m?v.a.createElement(we,{companyLogo:u,companyName:d}):v.a.createElement(Ce,{primaryRecipientId:n,additionalRecipientIds:a.additionalAgents})),v.a.createElement("div",{className:"drift-meeting-day-picker--timezone"},v.a.createElement("span",{className:"drift-meeting-day-picker--timezone-label"},E("meeting.selectADay")),v.a.createElement(Pe,{onClick:o,timezoneName:t.name,disabled:f})),v.a.createElement("ul",{className:s()("drift-meeting-day-picker--slots",{"drift-meeting-day-picker--slots__stacked":O})},i[w].map(function(e,t){return v.a.createElement(ze,{key:"meeting-slot-".concat(t),meetingSlot:e,onItemClicked:function onItemClicked(){return r(e)},disabled:f})})),v.a.createElement("div",{className:"drift-meeting-day-picker--slot-nav"},w>0&&v.a.createElement(b.a,{className:s()("drift-meeting-day-picker--slot-prev",{"keyboard-focused":T}),onClick:function onClick(){return I()},style:x,disabled:f,"aria-label":"previous days",ref:C},E("meeting.prev")),w!==i.length-1&&v.a.createElement(b.a,{className:s()("drift-meeting-day-picker--slot-next",{"keyboard-focused":S}),onClick:function onClick(){return _()},style:x,disabled:f,"aria-label":"next days",ref:N},E("meeting.next"))))},Le=function MeetingError(e){var t=e.message,a=e.onRetryClicked,n=e.disabled,i=Object(j.a)().t;return v.a.createElement("div",{className:"drift-meeting-error"},v.a.createElement(p.d,null),v.a.createElement("div",{className:"drift-meeting-error-message"},v.a.createElement("span",null,t)),v.a.createElement(V.a,{onClick:a,disabled:n},i("meeting.chooseNewTime")))},xe=a("TVEO"),De=function MeetingPoweredByDrift(e){var t=e.redirectUrl;return v.a.createElement("div",{className:"drift-meeting-confirmed-text"},v.a.createElement("a",{href:t},v.a.createElement(xe.a,{i18nKey:"composer.footer.meetingPoweredByDrift",components:[v.a.createElement(p.c,{height:12,width:12})]})))},Be=function MeetingSchedulerCard(e){var t=e.agentId,a=e.additionalAgents,n=void 0===a?[]:a,i=e.children,r=e.duration,c=e.showRecipients,o=void 0!==c&&c,s=Object(j.a)().t,l=Object(Ne.a)(t,n),m=s("meeting.scheduleAMeeting");return o&&(m=t?"".concat(m," with ").concat(l):m),v.a.createElement(G.a,{className:"drift-meeting-scheduler"},v.a.createElement(F.a,{className:"drift-meeting-scheduler--header"},v.a.createElement("span",null,m),r&&v.a.createElement("span",null,s("meeting.duration",{duration:r}))),v.a.createElement("div",{className:"drift-meeting-scheduler--content"},i))},Ge=a("KwHb"),Fe=function MeetingTimeSlot(e){var t=e.onMeetingTimeChosen,a=e.index,n=e.timeSlot,i=e.timezone,r=e.disabled,c=Object(_e.a)(),o=c.hoverProps,l=c.isHovered,m=Object(k.a)(),u=m.borderStyles,g=m.primaryTextColor,f=Object(A.useRef)(null),p=Object(ye.a)(f),E=Object(j.a)().t,h=Object(S.c)(ge.k),y=i?i.value:h;return v.a.createElement("li",Object.assign({className:s()("drift-meeting-time-picker--slot",{"keyboard-focused":p}),key:"slot-".concat(a)},o,{style:l?Object(d.a)({},u):{}}),v.a.createElement(b.a,{onClick:function onClick(){return t(n)},disabled:r,ref:f},v.a.createElement("span",{style:l?Object(d.a)({},g):{}},Object(O.a)(n,y).unixFmt(E("dt.format.time.short")))))},He=function MeetingTimePicker(e){e.additionalAgents;var t=e.timezone,a=e.meetingSlot,n=e.onBackClicked,i=e.onMeetingTimeChosen,r=e.onTimezoneLinkClick,o=e.resolveMessageHeight,l=e.disabled,m=void 0!==l&&l,u=e.isCompanyMeeting,d=void 0!==u&&u,g=Object(j.a)().t,f=Object(A.useState)(0),O=Object(c.a)(f,2),E=O[0],h=O[1],y=Object(Ge.a)(8,a.slots.sort(function(e,t){return e.time-t.time})),w=Object(A.useRef)(null),M=Object(A.useRef)(null),N=Object(A.useRef)(null),C=Object(ye.a)(w),S=Object(ye.a)(M),T=Object(ye.a)(N),_=Object(A.useCallback)(function(){E!==y.length-1&&h(E+1)},[E,y]),I=Object(A.useCallback)(function(){E>0&&h(E-1)},[E]),P=Object(Te.a)({targetKey:"ArrowRight"}),z=Object(Te.a)({targetKey:"ArrowLeft"}),R=Object(k.a)(),L=R.activeColor,x=R.primaryTextColor;return Object(A.useEffect)(function(){P&&_(),z&&I()},[P,z,_,I]),Object(A.useEffect)(o,[E]),v.a.createElement("div",{className:"drift-meeting-time-picker"},v.a.createElement("style",null,"\n            .drift-meeting-back-button.keyboard-focused,\n            .drift-meeting-time-picker--slot.keyboard-focused,\n            .drift-meeting-day-picker--slot-next.keyboard-focused,\n            .drift-meeting-day-picker--slot-prev.keyboard-focused {\n              ".concat(Object(he.c)(L),"\n            }\n          ")),v.a.createElement("header",{className:"drift-meeting-time-picker--header"},v.a.createElement(b.a,{className:s()("drift-meeting-back-button",{"keyboard-focused":C}),onClick:n,"aria-label":"back",disabled:m,ref:w},v.a.createElement(p.b,null)),v.a.createElement("span",{className:"drift-meeting-time-picker--header-day"},a.date)),v.a.createElement("div",{className:"drift-meeting-day-picker--timezone"},v.a.createElement("span",{className:"drift-meeting-day-picker--timezone-label"},g("meeting.selectATime")),v.a.createElement(Pe,{onClick:r,timezoneName:t.name,disabled:m})),v.a.createElement("ul",{className:"drift-meeting-time-picker--timeslots"},y[E].map(function(e,a){return v.a.createElement(Fe,{key:"drift-meeting-time-slot-".concat(a),onMeetingTimeChosen:i,index:a,timeSlot:d?e.time:e,timezone:t,disabled:m})})),v.a.createElement("div",{className:"drift-meeting-day-picker--slot-nav"},E>0&&v.a.createElement(b.a,{className:s()("drift-meeting-day-picker--slot-prev",{"keyboard-focused":T}),onClick:function onClick(){return I()},style:x,disabled:m,ref:N},g("meeting.prev")),E!==y.length-1&&v.a.createElement(b.a,{className:s()("drift-meeting-day-picker--slot-next",{"keyboard-focused":S}),onClick:function onClick(){return _()},style:x,disabled:m,ref:M},g("meeting.next"))))},Ue=a("oxCZ"),Ke=a.n(Ue),Ve=[{group:"us",zones:["America/Puerto_Rico","America/New_York","America/Chicago","America/Denver","America/Phoenix","America/Los_Angeles","America/Anchorage","Pacific/Honolulu"]},{group:"america",zones:["America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/ComodRivadavia","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Atka","America/Bahia","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Buenos_Aires","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Catamarca","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Coral_Harbour","America/Cordoba","America/Costa_Rica","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Ensenada","America/Fortaleza","America/Fort_Wayne","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Inuvik","America/Iqaluit","America/Jamaica","America/Jujuy","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Knox_IN","America/La_Paz","America/Lima","America/Los_Angeles","America/Louisville","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Mendoza","America/Menominee","America/Merida","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Porto_Acre","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Rosario","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Shiprock","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Virgin","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife"]},{group:"europe",zones:["Europe/Amsterdam","Europe/Andorra","Europe/Athens","Europe/Belfast","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Nicosia","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Tiraspol","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich"]},{group:"asia",zones:["Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Ashkhabad","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Calcutta","Asia/Choibalsan","Asia/Chongqing","Asia/Chungking","Asia/Colombo","Asia/Dacca","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Gaza","Asia/Harbin","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Istanbul","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kashgar","Asia/Kathmandu","Asia/Katmandu","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macao","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Saigon","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Tel_Aviv","Asia/Thimbu","Asia/Thimphu","Asia/Tokyo","Asia/Ujung_Pandang","Asia/Ulaanbaatar","Asia/Ulan_Bator","Asia/Urumqi","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan"]},{group:"africa",zones:["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Asmera","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Timbuktu","Africa/Tripoli","Africa/Tunis","Africa/Windhoek"]},{group:"australia",zones:["Australia/ACT","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Canberra","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/LHI","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/North","Australia/NSW","Australia/Perth","Australia/Queensland","Australia/South","Australia/Sydney","Australia/Tasmania","Australia/Victoria","Australia/West","Australia/Yancowinna"]},{group:"indian",zones:["Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion"]},{group:"atlantic",zones:["Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faeroe","Atlantic/Faroe","Atlantic/Jan_Mayen","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Atlantic/St_Helena"]},{group:"pacific",zones:["Pacific/Apia","Pacific/Auckland","Pacific/Chatham","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Ponape","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Samoa","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Truk","Pacific/Wake","Pacific/Wallis","Pacific/Yap"]},{group:"antarctica",zones:["Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/South_Pole","Antarctica/Syowa","Antarctica/Vostok"]},{group:"arctic",zones:["Arctic/Longyearbyen"]}],Je={threshold:.4,keys:["value","name"]},Ze=function Timezone(e){var t=e.zone,a=e.disabled,n=e.index,i=e.onTimezoneSelect,r=Object(A.useRef)(null),c=Object(ye.a)(r),o=function getGmtTimezoneOffset(e){var t="";try{var a=O.a.now(e).offset(),n=a>=0?"+":"-",i=Math.abs(a);t="(GMT"+(n+Ee(Math.floor(i/60)))+":"+Ee(i%60)+")"}catch(r){Object(E.f)(r)}return t}(t.value);return v.a.createElement("li",{className:s()("drift-meeting-timezone-picker-list-item",{"keyboard-focused":c}),key:"timezone-option-".concat(n)},v.a.createElement(b.a,{onClick:function onClick(){return i(t)},disabled:a,ref:r},o," ",t.name))},qe=function TimezoneList(e){var t=e.timezoneOptions,a=e.onTimezoneSelect,n=e.disabled,i=t.filter(function(e){return!!e.zones.length});return v.a.createElement("ul",{className:"drift-meeting-timezone-picker__list"},v.a.createElement("style",null,"\n          .drift-meeting-timezone-picker-list-item.keyboard-focused {\n            ".concat(Object(he.c)(Object(k.a)().activeColor),"\n          }\n        ")),i.map(function(e,t){var i=v.a.createElement("li",{className:"drift-meeting-timezone-picker-group",key:"timezone-option-group-".concat(t)},e.group),r=e.zones.map(function(e,t){return v.a.createElement(Ze,{zone:e,disabled:n,index:t,key:t,onTimezoneSelect:a})});return[i].concat(Object(u.a)(r))}))},Qe=function TimezonePicker(e){var t=e.onBack,a=e.onTimezoneSelect,n=e.resolveMessageHeight,i=e.disabled,r=void 0!==i&&i,o=Object(j.a)().t,l=Object(A.useMemo)(function(){return function translateTimeZones(e){return Ve.map(function(t){return{group:e(Ae(t.group)),zones:t.zones.map(function(t){return{name:e(ve(t)),value:t}})}})}(o)},[o]),m=Object(A.useState)(l),u=Object(c.a)(m,2),d=u[0],g=u[1],f=Object(Z.a)(""),O=Object(A.useRef)(null),E=Object(ye.a)(O);return Object(A.useEffect)(function(){if(""!==f.value){var e=l.map(function(e){var t=new Ke.a(e.zones,Je);return{group:e.group,zones:t.search(f.value)}});g(e)}else g(l)},[f,l]),Object(A.useEffect)(n,[]),v.a.createElement("div",{className:"drift-meeting-timezone-picker"},v.a.createElement("div",{className:"drift-meeting-timezone__header"},v.a.createElement("style",null,"\n            .drift-meeting-back-button.keyboard-focused {\n              ".concat(Object(he.c)(Object(k.a)().activeColor),"\n            }\n          ")),v.a.createElement(b.a,{className:s()("drift-meeting-back-button drift-meeting-timezone-back-button",{"keyboard-focused":E}),onClick:t,"aria-label":"back",disabled:r,ref:O},v.a.createElement(p.b,null)),v.a.createElement("span",{className:"drift-meeting-timezone__title"},o("meeting.timeZone"))),v.a.createElement("div",{className:"drift-meeting-timezone-picker--container"},v.a.createElement("div",{className:"drift-meeting-timezone-picker-input"},v.a.createElement("input",Object.assign({type:"search",className:"drift-widget-input",placeholder:o("meeting.timeZoneSearchPlaceholder")},f,{disabled:r}))),v.a.createElement(qe,{timezoneOptions:d,onTimezoneSelect:a,disabled:r})))},We=function MeetingScheduler(e){var t=e.messageId,a=e.resolveMessageHeight,n=e.redirectUrl,o=void 0===n?"":n,s=e.isScheduled,l=void 0!==s&&s,m=Object(oe.a)(),u=Object(te.a)(t),g=u.isCompanyMeeting,f=u.meetingRecipientAgents,b=f.length>0?f[0]:null,p=Object(j.a)().t,h=Object(A.useState)(),y=Object(c.a)(h,2),k=y[0],M=y[1],N=Object(A.useState)([]),T=Object(c.a)(N,2),_=T[0],I=T[1],P=Object(A.useState)(!1),z=Object(c.a)(P,2),L=z[0],x=z[1],D=Object(A.useState)(g?{value:"America/New_York",name:"New York"}:null),B=Object(c.a)(D,2),G=B[0],F=B[1],H=Object(A.useState)(null),U=Object(c.a)(H,2),K=U[0],V=U[1],J=Object(A.useState)(null),Z=Object(c.a)(J,2),q=Z[0],Q=Z[1],W=Object(A.useState)([]),Y=Object(c.a)(W,2),X=Y[0],$=Y[1],ne=Object(A.useState)(l),re=Object(c.a)(ne,2),Ae=re[0],Ee=re[1],he=Object(A.useState)(!1),ye=Object(c.a)(he,2),ke=ye[0],we=ye[1],Me=Object(le.a)(ke),Ne=Object(A.useState)(!1),Te=Object(c.a)(Ne,2),_e=Te[0],Ie=Te[1],Pe=Object(A.useState)(!1),ze=Object(c.a)(Pe,2),xe=ze[0],Ge=ze[1],Fe=Object(A.useState)(null),Ue=Object(c.a)(Fe,2),Ke=Ue[0],Ve=Ue[1],Je=Object(A.useState)(null),Ze=Object(c.a)(Je,2),qe=Ze[0],We=Ze[1],Ye=Object(A.useState)(null),Xe=Object(c.a)(Ye,2),$e=Xe[0],et=Xe[1],tt=Object(S.c)(ae.b).showBranding,at=void 0!==tt&&tt,nt=Object(S.c)(function(e){return e.conversations}).activeConversation,it=Object(ee.a)(),rt=Object(se.a)().conversationHistoryOpen,ct=Object(S.b)(),ot=Object(S.c)(ge.k),st=Object(A.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(e).reduce(function(e,a){var n=Object(c.a)(a,2),i=n[0],r=n[1],o=Oe(parseInt(i),t),s=o.format("{iso-month}_{date}_{year}");return e[s]?e[s].slots.push({time:parseInt(i),agents:r}):e[s]=je(o,{time:parseInt(i),agents:r},p("dt.format.date.full")),e},{})},[p]),lt=Object(A.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(C.a)([],["slots"],e).reduce(function(e,a){var n=Oe(a,t),i=n.format("{iso-month}_{date}_{year}");return e[i]?e[i].slots.push(a):e[i]=je(n,a,p("dt.format.date.full")),e},{})},[p]),mt=Object(A.useCallback)(Object(r.a)(i.a.mark(function _callee(){var e,t,a,n;return i.a.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,b){i.next=5;break}return Ge(!0),Ve(pe({})),i.abrupt("return");case 5:return we(!0),i.next=8,Object(ie.a)({agentId:b,additionalAgents:u.additionalAgents,orgMeetingType:u.orgMeetingType});case 8:e=i.sent,t=e.data,M(t),a=ot||t.agentTimezone,F({name:p(ve(a)),value:a}),we(!1),i.next=22;break;case 16:i.prev=16,i.t0=i.catch(0),n=Object(C.a)({},["response","data"],i.t0),Ge(!0),Ve(pe(n)),we(!1);case 22:case"end":return i.stop()}},_callee,null,[[0,16]])})),[b,u.additionalAgents,u.orgMeetingType,p,ot]),ut=Object(A.useCallback)(Object(r.a)(i.a.mark(function _callee2(){var e,t,a,n,r;return i.a.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,we(!0),i.next=4,Object(ie.b)({agentIds:f,orgMeetingType:u.orgMeetingType});case 4:n=i.sent,We(null===(e=n.data)||void 0===e?void 0:e.logoUrl),et(null===(t=n.data)||void 0===t?void 0:t.companyName),M(null===(a=n.data)||void 0===a?void 0:a.slotMap),we(!1),i.next=17;break;case 11:i.prev=11,i.t0=i.catch(0),r=Object(C.a)({},["response","data"],i.t0),Ge(!0),Ve(pe(r)),we(!1);case 17:case"end":return i.stop()}},_callee2,null,[[0,11]])})),[f,u.orgMeetingType]),dt=Object(A.useCallback)(function(e,t){var a=Object(d.a)(Object(d.a)({},t),{},{conversationId:nt});if(m&&m.id){a.campaignId=m.id;var n=Object(C.a)(null,["attributes","playbookId"],m);n&&(a.playbookId=n)}Object(fe.a)({topic:"send-usage-metric-event",message:{name:e,attributes:a}})},[m,nt]),gt=function sendMeetingMessage(e){var t=Math.floor((e.end-e.start)/6e4),a=g?e.agentId:b,n={id:e.id,url:e.url,availabilitySlot:q,slotDuration:k.slotDuration||t,agentId:a,bookingAgentId:u.schedulingAgentId,conversationId:nt,endUserTimezone:G.value,agentTimezone:k.agentTimezone};ct(Object(w.m)({message:Object(ue.a)({activeConversation:nt,message:"",attributes:{scheduleMeetingFlow:!0,meetingType:u.meetingType,scheduleMeetingWith:a,widgetGuid:Object(E.v)(),appointmentInfo:n,meetingSlug:u.orgMeetingType},isMetaMessage:!0})}))},ft=function(){var e=Object(r.a)(i.a.mark(function _callee3(){var e,t,a,n,r,c;return i.a.wrap(function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(dt("Meeting Confirmed"),Ie(!0),i.prev=2,!g){i.next=9;break}return i.next=6,Object(ie.c)({availableAgents:X,endUserTimeZone:G.value,availabilitySlot:q,meetingType:u.meetingType,meetingSource:u.meetingSource,conversationId:nt,bookedByUserId:u.schedulingAgentId,orgMeetingType:u.orgMeetingType});case 6:i.t0=i.sent,i.next=12;break;case 9:return i.next=11,Object(ie.d)({endUserTimeZone:G.value,availabilitySlot:q,agentId:b,meetingType:u.meetingType,meetingSource:u.meetingSource,conversationId:nt,bookedByUserId:u.schedulingAgentId,orgMeetingType:u.orgMeetingType});case 11:i.t0=i.sent;case 12:e=i.t0,t=e.data,a=g?t.agentId:b,n=g?t.start:q,r=g?Math.floor((t.end-t.start)/6e4):k.slotDuration,Object(me.j)({agentId:a,meetingTime:n,duration:r,timeZone:G.value,conversationId:nt}),Ee(!0),Ie(!1),gt(t),dt("Meeting Booked",{meetingId:t.id}),i.next=31;break;case 24:i.prev=24,i.t1=i.catch(2),c=Object(C.a)({},["response","data"],i.t1),Ge(!0),Ie(!1),c&&"Conflict"===c.key&&M(null),Ve(pe(c));case 31:case"end":return i.stop()}},_callee3,null,[[2,24]])}));return function onConfirmClicked(){return e.apply(this,arguments)}}(),bt=function onTimezoneLinkClick(){dt("Meeting Timezone Button Clicked"),x(!0)},pt=!!K&&!q&&!L,At=!K&&!q&&!L,vt=!!K&&!!q&&!L,jt=ke||!_.length,Ot=function clearMeetingSlot(){return V(null)},Et=function clearMeetingTimeAndAgents(){Q(null),$([])};return Object(A.useEffect)(function(){if(k&&G){var e=g?st(k,G):lt(k,G),t=it?6:3,a=Object(E.c)(t,e);I(a)}},[G,st,lt,k,g,it]),Object(A.useEffect)(function(){g?ut():mt()},[ut,mt,g]),Object(A.useEffect)(function(){if(!ke&&Me&&u.isFromBotFlow){var e=Object(de.b)("meeting_scheduler_rtt");if(e){var t={conversationId:nt};if(m&&m.id){t.campaignId=m.id;var a=Object(C.a)(null,["attributes","playbookId"],m);a&&(t.playbookId=a)}Object(be.d)("Meeting Scheduler RTT",e,t)}}},[m,nt,ke,u.isFromBotFlow,u.meetingSource,Me]),Object(A.useLayoutEffect)(a,[jt,xe]),xe?v.a.createElement(Be,null,v.a.createElement(Le,{message:p(Ke),onRetryClicked:function onMeetingScheduleRetry(){Ge(!1),Ot(),Et(),k&&!At||(g?ut():mt())},disabled:rt})):jt||_e?v.a.createElement(Be,{agentId:g?null:b,additionalAgents:u.additionalAgents,duration:k?k.slotDuration:null,showRecipients:it&&!g},v.a.createElement("div",{className:"drift-meeting-card-body loading-state"},v.a.createElement(R.b,{"aria-live":"polite",message:p("status.loading"),clearOnUnmount:!0}),!it&&!g&&v.a.createElement(Ce,{additionalRecipientIds:u.additionalAgents,avatarSize:"LARGE",primaryRecipientId:b}),v.a.createElement(ce,{size:"LARGE"}),at&&v.a.createElement(De,{redirectUrl:o}))):v.a.createElement(Be,{agentId:g?null:b,additionalAgents:u.additionalAgents,duration:k.slotDuration,showRecipients:it&&!g},v.a.createElement("div",{className:"drift-meeting-scheduler--meeting-info"},At&&v.a.createElement(Re,{timezone:G,onMeetingDateChosen:function onMeetingDateChosen(e){dt("Meeting Date Selected"),V(e)},meetingSlotSets:_,meetingAgent:b,meetingInfo:u,onTimezoneLinkClick:bt,resolveMessageHeight:a,disabled:rt,isChatTakeover:it,isCompanyMeeting:g,companyLogo:qe,companyName:$e}),pt&&v.a.createElement(He,{additionalAgents:u.additionalAgents,timezone:G,meetingSlot:K,onBackClicked:Ot,onMeetingTimeChosen:function onMeetingTimeChosen(e){if(dt("Meeting Time Selected"),Q(e),g){var t,a=null===(t=K.slots.find(function(t){return t.time===e}))||void 0===t?void 0:t.agents;a&&$(a)}},onTimezoneLinkClick:bt,resolveMessageHeight:a,isCompanyMeeting:g,disabled:rt}),vt&&v.a.createElement(Se,{meetingAgentId:g?null:b,additionalAgents:u.additionalAgents,meetingStart:Object(O.a)(q),meetingEnd:g?null:Object(O.a)(q).add(k.slotDuration,"minute"),timezone:G.value,onBackClicked:Et,onConfirmClicked:ft,isBookingPending:_e,isConfirmed:Ae,resolveMessageHeight:a,disabled:rt,companyName:$e,companyLogo:qe,isCompanyMeeting:g}),L&&v.a.createElement(Qe,{onTimezoneSelect:function onTimezoneSelected(e){dt("Meeting Timezone Selected"),F(e),x(!1)},onBack:function onTimezoneSelectBack(){return x(!1)},resolveMessageHeight:a,disabled:rt})))},Ye=function MeetingMessage(e){var t=e.attributes,a=e.id,n=e.body,o=void 0===n?"":n,l=e.resolveMessageHeight,m=e.nextMessage,u=Object(C.a)(a,["widgetGuid"],t),d=Object(te.a)(u),g=d.shouldPresentConfirmationCard,f=d.shouldPresentSchedulingCard,b=d.appointmentInfo,p=d.additionalAgents,j=Object(A.useState)(""),h=Object(c.a)(j,2),y=h[0],k=h[1],w=Object(ee.a)(),M=!!Object(C.a)(null,["attributes","appointmentInfo"],m),N=Object(S.c)(ae.b).showBranding,T=void 0!==N&&N;return Object(A.useEffect)(function(){!function(){var e=Object(r.a)(i.a.mark(function _callee(){var e;return i.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ne.a)("scheduling-card");case 3:e=t.sent,k(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(E.n)({data:["Failed to get referral URL: ".concat(t.t0)]});case 10:case"end":return t.stop()}},_callee,null,[[0,7]])}));return function getDriftReferralUrl(){return e.apply(this,arguments)}}()()},[]),f?v.a.createElement(v.a.Fragment,null,v.a.createElement(D,Object.assign({},e,{body:o})),!M&&v.a.createElement(We,{messageId:a,redirectUrl:y,resolveMessageHeight:l})):g?v.a.createElement(Be,{agentId:b.agentId,additionalAgents:p,duration:b.slotDuration,showRecipients:w},v.a.createElement("div",{className:s()("drift-meeting-scheduler--meeting-info",{"with-branding":!!T})},v.a.createElement(Se,{meetingStart:Object(O.a)(b.availabilitySlot),meetingEnd:Object(O.a)(b.availabilitySlot).add(b.slotDuration,"minute"),meetingAgentId:b.agentId,additionalAgents:p,timezone:b.endUserTimezone,resolveMessageHeight:l,isConfirmed:!0}),T&&v.a.createElement(De,{redirectUrl:y}))):null},Xe=D,$e=a("UXBQ"),et=a("vDqi"),tt=a.n(et),at=function FileAttachmentMessage(e){var t=e.attachment,a=void 0===t?{}:t,n=e.multi,i=e.senderType,r=void 0===i?T.d.END_USER:i,c=Object(k.a)(),o=c.buttonStyles,s=c.svgStyles,l=c.agentIconTheme;if(!a.fileName)return null;var m=r===T.d.END_USER?s:l;return v.a.createElement(v.a.Fragment,null,v.a.createElement("a",{href:a.publicUrl,target:"_blank",rel:"nofollow noopener noreferrer",className:"drift-widget-message--file",style:n?o:{},"aria-label":"download file"},v.a.createElement(p.k,{fill:m.fill,width:16,height:16}),v.a.createElement("span",{className:"drift-widget-attachment--filename",title:a.fileName},a.fileName)))},nt=function ImageAttachmentMessage(e){var t=e.attachment,a=void 0===t?{}:t,n=e.resolveMessageHeight,i=void 0===n?function(){}:n,r=Object(A.useState)(!1),o=Object(c.a)(r,2),s=o[0],l=o[1];return v.a.createElement(v.a.Fragment,null,v.a.createElement("a",{href:a.publicUrl,className:"drift-widget-attachment--img",target:"_blank",rel:"nofollow noopener noreferrer","aria-label":"download file"},v.a.createElement("img",{src:a.publicUrl,alt:a.fileName,onLoad:function onLoad(){!s&&i(),!s&&l(!0)}})))},it=(a("Qp3a"),function AttachmentMessage(e){var t=e.attachmentIds,a=void 0===t?[]:t,n=e.resolveMessageHeight,c=e.sentFrom,o=void 0===c?T.d.END_USER:c,l=Object(S.b)(),m=Object(S.c)(function(e){return e.conversations.attachments}),u=tt.a.CancelToken.source(),d=Object(k.a)(),g=d.agentMessageTheme,f=d.endUserMessageTheme,b=o===T.d.END_USER?f:g;Object(A.useEffect)(function(){var e=a.filter(function(e){return!m[e]}),t=function(){var t=Object(r.a)(i.a.mark(function _callee(){var t,a;return i.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($e.a)(e,u.token);case 3:t=n.sent,a=t.data,l(Object(w.e)({attachments:a})),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},_callee,null,[[0,8]])}));return function fetchAttachmentsForMessage(){return t.apply(this,arguments)}}();return e.length&&t(),function(){u.cancel()}},[m,a,u,l]);var p=Object(A.useMemo)(function(){return a&&a.map(function(e){return m[e]?function isImage(e){var t=e.mimeType;return/image/.test(t)&&"image/svg+xml"!==t}(m[e])?v.a.createElement(nt,{attachment:m[e],key:"drift-widget-attachment--".concat(e),resolveMessageHeight:n}):v.a.createElement(at,{multi:a.length>1,attachment:m[e],key:"drift-widget-attachment--".concat(e),senderType:o}):null})},[a,m,n,o]);return v.a.createElement("div",{style:b,className:s()("drift-widget-attachment drift-widget-message--box",{"drift-widget-attachment--multi":a&&a.length>1})},p)}),rt=(a("mQ2C"),function UnfurlMessage(e){var t=e.unfurlData,a=e.style,n=void 0===a?{}:a,i=e.resolveMessageHeight,r=void 0===i?function(){}:i,c=e.sender,o=t.html,l=t.meta,m=void 0===l?{}:l,u=t.links,d=void 0===u?{}:u,g=t.url,f=void 0===g?"":g,b=t.rel,p=void 0===b?[]:b,j=Object(S.b)();Object(A.useLayoutEffect)(function(){r(),j(Object(N.a)(!0))},[r,o,j]);var O=Object(A.useMemo)(function(){return!!m.title||!!m.description||!!m.site},[m]),E=Object(A.useMemo)(function(){return Object(C.a)(null,["thumbnail",0],d)},[d]),h=Object(A.useMemo)(function(){return Object(C.a)(f,["site"],m)},[f,m]),y=Object(A.useMemo)(function(){return p[0]},[p]),k=Object(A.useMemo)(function(){return"player"===y},[y]),w=Object(A.useMemo)(function(){return!k&&E},[k,E]);return Object(A.useMemo)(function(){return(w||k)&&O},[w,k,O])?v.a.createElement("li",{className:"drift-widget-message drift-widget-message--unfurl drift-widget-message-sender--".concat(c)},v.a.createElement("div",{className:s()("drift-widget-message--box drift-widget-message--unfurl-container"),style:n},k&&v.a.createElement("div",{className:"drift-widget-message--unfurl-video",dangerouslySetInnerHTML:{__html:o}}),w&&v.a.createElement("div",{className:"drift-widget-message--unfurl-image"},v.a.createElement("img",{alt:"".concat(h," - thumbnail"),src:E.href,onLoad:function onLoad(){j(Object(N.a)(!0))}})),O&&v.a.createElement("div",{className:"drift-widget-message--unfurl_meta"},m.title&&v.a.createElement("h3",{className:"drift-widget-message--unfurl_title"},v.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:f,title:m.title},m.title)),m.description&&v.a.createElement("p",{className:"drift-widget-message--unfurl_description"},m.description),m.site&&v.a.createElement("p",{className:"drift-widget-message--unfurl_site"},m.site)))):null}),ct=(a("ZP32"),function MessageSentTimestamp(e){var t=e.sender,a=e.deliveredAt,n=Object(j.a)().t;return v.a.createElement("span",{className:"drift-widget-message-timestamp drift-widget-message-timestamp--".concat(t)},Object(O.a)(a).unixFmt(n("dt.format.time.short")))}),ot=function MessageComponent(e){var t=e.message,a=e.nextMessage,n=e.isLastGroup,i=e.isLastMessage,r=e.resolveMessageHeight,o=Object(A.useState)([]),l=Object(c.a)(o,2),m=l[0],p=l[1],j=Object(A.useState)(null),I=Object(c.a)(j,2),P=I[0],z=I[1],R=Object(S.b)(),L=Object(S.c)(function(e){return Object(C.a)(!1,["embed","configuration","theme","showUnfurl"],e)}),x=Object(k.a)(),D=x.borderStyles,G=x.endUserMessageTheme,F=x.agentMessageTheme,H=function resolveMessageComponent(e){var t=e.attributes,a=t.isBot,n=void 0!==a&&a,i=t.show_email_capture_card,r=t.conversationRating;return i?$:Object(M.i)(e)?Ye:n?B:r?K:Xe}(t),U=Object(M.h)(t)?T.d.END_USER:T.d.AGENT;Object(A.useEffect)(function(){if(!Object(M.e)(t,"instantMeeting")){var e=Object(u.a)(Object(_.a)(t.body));e.length&&p(e)}},[t]),Object(A.useEffect)(function(){if(m.length>0){var e=document.createElement("textarea");e.innerHTML=m[0],Object(g.a)(e.value.replace("#61;","")).then(function(e){var t=e.data;z(t)}).catch(function(e){return Object(E.n)({data:["Failed to unfurl url: ".concat(m[0]),e]})})}},[m]),Object(A.useLayoutEffect)(function(){r(),y.a.dispatch(Object(N.a)(!0))},[r,n]);var V=!!t.attributes.appointmentInfo||!!t.attributes.conversationRating||t.type===T.e.EMAIL_CAPTURE_CARD,J=!!t.body||V,Z=L&&P,q=t.attachments&&t.attachments.length>0;if(!J&&!Z&&!q)return null;var Q=Object(C.a)(null,["createdAt"])(t),W=Object(C.a)(null,["attributes","generatedAt"])(t),Y=!Q&&O.a.now().isAfter(Object(O.a)(W).add(30,"second")),X=!Q&&Y;return v.a.createElement(v.a.Fragment,null,J&&v.a.createElement("li",{className:s()("drift-widget-message drift-widget-message-sender--".concat(U),{"drift-widget-message-failed":X})},v.a.createElement(H,Object.assign({},t,{isLastGroup:n,isLastMessage:i,nextMessage:a,resolveMessageHeight:r,style:U===T.d.END_USER?G:F})),!V&&Q&&v.a.createElement(ct,{sender:U,deliveredAt:Q}),X&&v.a.createElement(b.a,{onClick:function doSendMessage(){R(Object(w.m)({message:Object(d.a)(Object(d.a)({},t),{},{attributes:Object(d.a)(Object(d.a)({},t.attributes),{},{generatedAt:(new Date).valueOf()})})}))}},v.a.createElement(f.a,{height:12,width:12}))),Z&&v.a.createElement(rt,{unfurlData:P,resolveMessageHeight:r,style:U===T.d.END_USER?Object(d.a)({},D):{},sender:U}),q&&v.a.createElement("li",{className:"drift-widget-message drift-widget-message-sender--".concat(U)},v.a.createElement(it,{attachmentIds:t.attachments,resolveMessageHeight:r,sentFrom:U}),v.a.createElement(ct,{sender:U,deliveredAt:Q})),v.a.createElement(h,{message:t,isLastGroup:n,isLastMessage:i,delivered:Q,generated:W,messageTimedOut:Y,deliveryFailed:X,resolveMessageHeight:r}))},st=a("yEsl"),lt=a("7IKl"),mt=(a("UwV1"),function getAvatarPositionClassName(e){var t=Object(M.i)(e),a=e.attributes.show_email_capture_card;return"message-group-avatar-".concat(void 0!==a&&a||t?"top":"bottom")}),ut=function MessageGroupHeader(e){var t=e.senderType,a=e.senderId,n=Object(lt.a)(a),i=Object(k.a)().messageAuthorTheme;return t!==T.d.AGENT?null:v.a.createElement("li",{className:"drift-widget-message-sender"},v.a.createElement("span",{className:"drift-widget-message--meta-author",style:i},n))},dt=function MessageGroup(e){var t=e.messages,a=void 0===t?[]:t,n=e.isLastGroup,i=void 0!==n&&n,r=e.showTimestamp,o=void 0!==r&&r,l=e.role,u=void 0===l?"cell":l,d=e.resolveMessageHeight,g=void 0===d?function(){}:d,f=Object(j.a)().t,b=Object(k.a)().messageTimestampTheme;Object(A.useLayoutEffect)(function(){g()},[g,i,o]);var p=Object(c.a)(a,1)[0],E=Object(M.h)(p)?T.d.END_USER:T.d.AGENT,h=p.authorId,y=a[a.length-1],w=i&&Object(M.e)(y,"buttons");return v.a.createElement("div",{role:u,className:s()("drift-widget-message-group-wrapper",{"drift-widget-message-group-wrapper--last":i})},o&&v.a.createElement("p",{className:"drift-widget-message-group-timestamp",style:b},function formatTimestamp(e,t){return e>0?Object(O.a)(e).isSame(O.a.now(),"date")?"".concat(t("dt.today")," ").concat(Object(O.a)(e).unixFmt(t("dt.format.time.short"))):Object(O.a)(e).unixFmt(t("dt.format.datetime.short")):""}(a[0].createdAt,f)),v.a.createElement("ul",{className:"drift-widget-message-group drift-widget-message-group-type--".concat(E)},v.a.createElement(ut,{senderType:E,senderId:h}),a.map(function(e,t){var n=t===a.length-1,r=n?null:a[t+1];return v.a.createElement(A.Fragment,{key:e.attributes.generatedAt||e.id||e.attributes.widgetGuid},n&&E===T.d.AGENT&&v.a.createElement("li",{className:s()("drift-widget-message-group-avatar",mt(e))},v.a.createElement(st.a,{id:h,size:"SMALL"})),v.a.createElement(ot,{resolveMessageHeight:g,message:e,nextMessage:r,isLastMessage:n,isLastGroup:i}))})),w&&v.a.createElement(m.a,{message:y}))},gt=a("gRD2"),ft=a("6wvX"),bt=a("xqp/"),pt=a("xwTo"),At=a("TbSn"),vt=a("mfas"),jt=a("XuDI"),Ot=(a("P6Di"),function shouldShowTimestamp(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e&&!a)return!1;if(!e)return!0;var n=e?e[e.length-1].createdAt:0;return Object(O.a)(t[0].createdAt).isAfter(Object(O.a)(n).add(2,"hour"))}),Et=function setScrollTop(e,t,a){if(e.scrollTop!==t){var n=e.style;a&&(n["-webkit-overflow-scrolling"]="auto",n.overflow="hidden"),e.scrollTop=t,a&&(n.overflow="scroll",n["-webkit-overflow-scrolling"]="touch")}};t.a=function MessageGroupList(e){var t=e.reflowHidden,a=e.messageGroups,n=e.messages,o=e.disabled,m=void 0!==o&&o,u=e.inheritBackgroundStyle,d=void 0!==u&&u,g=e.showTimestampForFirstGroup,f=void 0===g||g,b=Object(S.b)(),p=Object(k.a)().widgetBackgroundStyles,j=Object(S.c)(pt.a),O=Object(gt.a)().fetchMessages,h=Object(S.c)(function(e){return e.view}),y=h.chatOpen,w=h.shouldAutoScrollChatToBottom,_=Object(S.c)(function(e){return Object(C.a)({},["conversations","conversations",j],e)}),I=_.hasMoreMessages,P=_.nextPageMessageId,z=Object(ft.a)(),R=Object(A.useState)(!0),L=Object(c.a)(R,2),x=L[0],D=L[1],B=Object(A.useState)(!1),G=Object(c.a)(B,2),F=G[0],H=G[1],U=Object(A.useState)(!1),K=Object(c.a)(U,2),V=K[0],J=K[1],Z=Object(A.useState)(!1),Q=Object(c.a)(Z,2),W=Q[0],Y=Q[1],X=Object(A.useRef)(null),$=Object(A.useRef)(0),ee=Object(A.useRef)(!1),te=Object(A.useMemo)(function(){return Object(At.a)(n)},[n]),ae=Object(le.a)(te),ne=!!ae&&te!==ae,ie=a.length,re=!F&&I&&y,ce=Object(A.useMemo)(function(){return a.map(function(e,t){var n=t===a.length-1,i=t>0?a[t-1]:null,r=e[0].attributes.widgetGuid||e[0].id;return v.a.createElement(dt,{key:"messageGroup-".concat(r),role:"listitem",messages:e,isLastGroup:n,showTimestamp:Ot(i,e,f)})})},[a,f]),oe=Object(A.useCallback)(function(){var e=Object(r.a)(i.a.mark(function _callee(e){return i.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return H(!0),J(!0),t.next=4,O({from:e});case 4:Y(!0),H(!1),Object(E.e)(function(){return J(!1)},1e3);case 7:case"end":return t.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}(),[O]),se=Object(A.useCallback)(function(e){e.target.scrollTop<=200&&re&&!W&&oe(P)},[oe,P,re,W]),me=d?{}:p;Object(bt.a)(se,X),Object(A.useLayoutEffect)(function(){if(!(ie<1)){if(!y||F||t)!y&&ne&&(ee.current=!0);else{var e=Object(C.a)(0,["current","scrollHeight"],X),a=$.current,n=ne||x||ee.current||w;X.current&&(n?(Et(X.current,e,z),ee.current=!1):W&&Et(X.current,e-a,z)),(n||W)&&($.current=e),D(!1),Y(!1)}w&&b(Object(N.a)(!1))}},[ie,y,x,F,ne,W,t,z,a,w,b]),Object(A.useEffect)(function(){Y(!1),D(!0)},[j]),Object(A.useEffect)(function(){te&&y&&te.viewerRecipientStatus!==T.f.READ&&!Object(M.h)(te)&&Object(q.c)(j)},[te,j,y]);return v.a.createElement("div",{className:"drift-widget-message-group-list-container","aria-hidden":m},v.a.createElement("div",{style:me,className:s()("drift-widget-message-group-list-loader",{"drift-widget-message-group-list-loader--loading":V})},v.a.createElement(l.a,{visible:V})),v.a.createElement(jt.Scrollbars,{ref:function setScrollContainerRef(e){e&&X&&(X.current=e.view)},hideTracksWhenNotNeeded:!0,renderView:function renderScrollbarsView(e){var a=Object(vt.a)(["WebkitOverflowScrolling"],e.style);return v.a.createElement("div",Object.assign({},e,{role:"list",style:a,className:s()("drift-widget-message-group-list",{"drift-widget-message-group-list--hidden":t})}))}},ce))}},BZgG:function(e,t,a){},CwrG:function(e,t,a){"use strict";var n=a("nJ3u"),i=a("O94r"),r=a.n(i),c=a("+Kbs"),o=a("z24s"),s=a("lE29"),l=a("SFoa"),m=a("LVcX"),u=a("ERkP"),d=a.n(u),g=a("TVEO"),f=a("uDfI"),b=(a("p0+K"),function Drift(){var e=Object(u.useRef)(null),t=Object(o.a)(e),a=Object(s.a)().footerTextColor,n=Object(m.a)("",["context","page","hostname"],Object(f.c)(function(e){return e.session})),i=Object(u.useMemo)(function(){return Object(l.g)()<=1?"":"?utm_source=".concat(n,"&utm_medium=web-widget&utm_campaign=widget-referral&utm_version=v2")},[n]);return d.a.createElement("a",{href:"https://www.drift.com/powered-by".concat(i),className:r()("drift-widget-power",{"keyboard-focused":t}),rel:"noopener noreferrer",target:"_blank",ref:e,style:a},d.a.createElement(g.a,{i18nKey:"composer.footer.poweredByDrift",components:[d.a.createElement(c.c,{height:12,width:12}),d.a.createElement("span",{className:"drift-widget-power-brand"},"Drift")]}))}),p=a("8Epr"),A=a("Hvhg");a("2VrW"),t.a=function Footer(){var e=Object(f.c)(A.b).showBranding,t=void 0!==e&&e,a=Object(p.a)(),i=a.privacyPolicyLink,c=a.privacyPolicyLinkText,l=a.noPolicy,m=Object(s.a)(),g=m.activeColor,v=m.footerTextColor,j=Object(u.useRef)(null),O=Object(o.a)(j);return!t&&l?null:d.a.createElement("div",{className:r()("drift-widget-footer",{"drift-widget-footer--with-branding":t})},d.a.createElement("style",null,"\n          .drift-widget-power.keyboard-focused,\n          .drift-widget-footer--with-branding .drift-widget-footer-privacy.keyboard-focused {\n            ".concat(Object(n.e)(g),"\n          }\n        ")),t&&d.a.createElement(b,null),t&&!l&&d.a.createElement("span",{className:"drift-widget-footer-privacy-spacer","aria-hidden":"true",style:v},"|"),!l&&d.a.createElement(d.a.Fragment,null,d.a.createElement("span",{className:r()("drift-widget-footer-privacy",{"keyboard-focused":O})},d.a.createElement("a",{href:i,rel:"noopener noreferrer",target:"_blank",title:c,className:"drift-widget-footer-privacy--link",ref:j,style:v},c))))}},P6Di:function(e,t,a){},Q0X4:function(e,t,a){},Q80r:function(e,t,a){},Qp3a:function(e,t,a){},RJSH:function(e,t,a){},UwV1:function(e,t,a){},Wkzb:function(e,t,a){},ZGTz:function(e,t,a){"use strict";var n=a("mj2O"),i=a.n(n),r=a("7SM1"),c=a("s8DI"),o=a("O94r"),s=a.n(o),l=a("HXmn"),m=a("LVcX"),u=a("ERkP"),d=a.n(u),g=a("Tr4L"),f=a("uDfI"),b=a("oFTC"),p=(a("uqJV"),a("Q80r"),Object(u.lazy)(function(){return Promise.all([a.e(17),a.e(41)]).then(a.bind(null,"tBak"))})),A=function EmojiPickerLoader(e){var t=e.loadingText;return d.a.createElement("div",{className:"drift-widget-emoji-picker--loader"},d.a.createElement("p",null,t),d.a.createElement(l.a,null))};t.a=function EmojiPicker(e){var t=e.open,n=e.onAddEmoji,o=e.onClickOutside,l=Object(g.a)().t,v=Object(f.c)(function(e){return e.conversations}).activeConversation,j="en"!==Object(f.c)(function(e){return Object(m.a)("en",["embed","configuration","locale"],e)}),O=Object(u.useMemo)(function(){return function createEmojiMartI18nProp(e){return{search:e("emoji.search"),clear:e("emoji.clear"),notfound:e("emoji.notfound"),skintext:e("emoji.skintext"),categories:{search:e("emoji.category.search"),recent:e("emoji.category.recent"),smileys:e("emoji.category.smileys"),people:e("emoji.category.smileys"),nature:e("emoji.category.nature"),foods:e("emoji.category.foods"),activity:e("emoji.category.activity"),places:e("emoji.category.places"),objects:e("emoji.category.objects"),symbols:e("emoji.category.symbols"),flags:e("emoji.category.flags"),custom:e("emoji.category.custom")},categorieslabel:e("emoji.categorieslabel"),skintones:{1:e("emoji.skintone1"),2:e("emoji.skintone2"),3:e("emoji.skintone3"),4:e("emoji.skintone4"),5:e("emoji.skintone5"),6:e("emoji.skintone6")}}}(l)},[l]),E=Object(u.useRef)(null),h=Object(u.useState)(null),y=Object(c.a)(h,2),k=y[0],w=y[1];Object(u.useEffect)(function(){t&&!k&&function(){var e=Object(r.a)(i.a.mark(function _callee(){return i.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(44).then(a.t.bind(null,"8ozv",3)).then(function(e){return w(e.default)});case 2:case"end":return e.stop()}},_callee)}));return function fetchEmojiData(){return e.apply(this,arguments)}}()()},[t,k]),Object(b.a)(E,function(e){o(e)});return d.a.createElement("div",{ref:E,className:s()("drift-widget-composer-emoji-picker",{"drift-widget-composer-emoji-picker--open":t,"drift-widget-composer-emoji-picker--full":v,"drift-widget-composer-emoji-picker--mini":!v,"drift-widget-composer-emoji-picker--hide-search":j})},d.a.createElement(u.Suspense,{fallback:d.a.createElement(A,{loadingText:l("status.loading")})},!!k&&d.a.createElement(p,{darkMode:!1,onSelect:function addEmojiToMessage(e){var t=e.native;n(function(e){return"".concat(e," ").concat(t)})},sheetSize:64,set:"apple",data:k,exclude:["flags","symbols","objects"],perLine:6,emojiTooltip:!j,i18n:O,showPreview:!1,showSkinTones:!1,onClickOutside:o})))}},ZP32:function(e,t,a){},fmuz:function(e,t,a){},mQ2C:function(e,t,a){},"n/d+":function(e,t,a){},noex:function(e,t,a){"use strict";var n=a("O94r"),i=a.n(n),r=a("yEsl"),c=a("MQZS"),o=a("58kB"),s=a("LVcX"),l=a("ERkP"),m=a.n(l),u=a("Tr4L"),d=a("6lNa");a("t/7O");t.a=function PresenceAvatar(e){var t=e.size,a=void 0===t?"LARGE":t,n=e.id,g=void 0===n?null:n,f=e.className,b=e.image,p=Object(u.a)().t,A=Object(o.a)(g).recipient,v=Object(l.useMemo)(function(){return Object(s.a)(null,["avatarUrl"],A)},[A]),j=Object(l.useMemo)(function(){return Object(s.a)(!1,["bot"],A)},[A]),O=Object(c.a)(g,A.bot),E=Object(l.useMemo)(function(){return O?O===d.a.ONLINE?p("user.status.active"):O===d.a.OFFLINE?p("user.status.away"):null:null},[O,p]);return v||j?m.a.createElement("div",{className:i()("drift-widget-presence-avatar",f),title:O?E:""},m.a.createElement(r.a,{size:a,id:g,image:b||v}),O&&O===d.a.ONLINE&&m.a.createElement("div",{className:i()("drift-widget-agent-status","drift-widget-agent-status--online"),"aria-label":"agent status ".concat(E)}),O&&O===d.a.OFFLINE&&m.a.createElement("div",{className:i()("drift-widget-agent-status","drift-widget-agent-status--offline"),"aria-label":"agent status ".concat(E)},m.a.createElement("div",{className:"drift-widget-agent-status--offline-dot"}))):null}},oImb:function(e,t,a){"use strict";var n=a("mj2O"),i=a.n(n),r=a("7SM1"),c=a("s8DI"),o=a("nJ3u"),s=a("KA4J"),l=a("O94r"),m=a.n(l),u=a("+Kbs"),d=a("UAQ6"),g=a("nvPd"),f=a("6wvX"),b=a("z24s"),p=a("lE29"),A=a("97O6"),v=a.n(A),j=a("ERkP"),O=a.n(j),E=a("Tr4L"),h=a("oFTC"),y=a("0lfv");a("RJSH");t.a=function GiphyPicker(e){var t=e.onAddGiphy,a=e.disabled,n=void 0!==a&&a,l=Object(E.a)().t,A=Object(d.a)(),k=Object(j.useState)([]),w=Object(c.a)(k,2),M=w[0],N=w[1],C=Object(j.useState)(!1),S=Object(c.a)(C,2),T=S[0],_=S[1],I=Object(j.useState)(!1),P=Object(c.a)(I,2),z=P[0],R=P[1],L=Object(j.useState)(!1),x=Object(c.a)(L,2),D=x[0],B=x[1],G=Object(j.useRef)(null),F=Object(j.useRef)(null),H=Object(j.useRef)(null),U=Object(g.a)(""),K=U.value,V=U.onChange,J=Object(f.a)(),Z=Object(b.a)(H),q=Object(p.a)(),Q=q.activeColor,W=q.composerButtonHoverColor,Y=q.composerButtonIconColor,X=Object(j.useMemo)(function(){return Object(y.d)(function(){var e=Object(r.a)(i.a.mark(function _callee(e){var t,a;return i.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.a)(e,51,{locale:A});case 2:t=n.sent,a=t.data,N(a.data);case 5:case"end":return n.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}(),200,!1)},[A]),$=Object(j.useCallback)(Object(r.a)(i.a.mark(function _callee2(){var e,t;return i.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(s.b)(51);case 2:e=a.sent,t=e.data,N(t.data);case 5:case"end":return a.stop()}},_callee2)})),[]);Object(h.a)(G,function(){T&&(_(!1),B(!0))}),Object(j.useEffect)(function(){T&&!J&&F.current.focus(),T&&$()},[T,J,$]),Object(j.useEffect)(function(){T&&(K.length>0?X(K):$())},[K,T,X,$]),Object(j.useEffect)(function(){if(D){var e=window.setTimeout(function(){B(!1)},200);return function(){window.clearTimeout(e)}}},[D]);return O.a.createElement(O.a.Fragment,null,O.a.createElement("style",null,"\n          .drift-widget-composer-giphy-picker *:focus {\n            ".concat(Object(o.f)(Q),"\n          }\n        ")),O.a.createElement("button",{className:m()("drift-widget-composer-giphy-toggle",{"keyboard-focused":Z}),onClick:function openGiphy(){D||T||_(!0)},"aria-label":"Add GIF - Click to toggle",disabled:n,ref:H,onFocus:function onFocus(){return R(!0)},onMouseOver:function onMouseOver(){return R(!0)},onMouseLeave:function onMouseLeave(){return R(!1)}},O.a.createElement(u.m,{fill:z?W:Y})),O.a.createElement("div",{tabIndex:-1,className:m()("drift-widget-composer-giphy-picker",{"drift-widget-composer-giphy-picker--show":T,"drift-widget-composer-giphy-picker--mobile":J}),ref:G},O.a.createElement("div",{className:"drift-widget-composer-giphy-picker-search"},O.a.createElement("input",{className:"drift-widget-input",ref:F,type:"search",placeholder:l("gifPicker.searchPlaceholder"),value:K,onChange:V,onFocus:function onInputFocus(e){J&&e.stopPropagation()},"aria-label":"Search GIFs"})),O.a.createElement("div",{className:"drift-widget-composer-giphy-picker-list-wrapper"},O.a.createElement("ul",{className:"drift-widget-composer-giphy-list"},M.map(function(e){return O.a.createElement("li",{key:e.id,className:"drift-widget-composer-giphy-list-item"},O.a.createElement("button",{onClick:function onClick(){return function addGiphyToMessage(e){t('<img src="'.concat(e.url,'" alt="gif" />')),_(!1)}(e.images.original)}},O.a.createElement("img",{src:e.images.preview_gif.url,alt:e.title||"Gif from Giphy"})))}))),O.a.createElement("span",{className:"drift-widget-composer-giphy-picker-power"},O.a.createElement("img",{src:v.a,alt:l("gifPicker.poweredBy")}))))}},"p0+K":function(e,t,a){},sZBt:function(e,t,a){},"t/7O":function(e,t,a){}}]);